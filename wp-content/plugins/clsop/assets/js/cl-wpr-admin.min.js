"use strict";window.clAccelerateWP={notice:{close:function(e){var c=jQuery(e).closest("div.notice");c.length&&c.remove()},init:function(){jQuery('[data-cl-accelerate-wp-notice-upgrade="link"]').on("click",function(e){e.preventDefault(),clAccelerateWP.notice.close(this),clAccelerateWP.subscription.gateway(jQuery(this).attr("href"))}),jQuery("[data-accelerate-wp-modal-close]").on("click",function(e){e.preventDefault(),clAccelerateWP.modal.close(this,e)})}},modal:{show:function(e){jQuery('[data-accelerate-wp-modal="'+e+'"]').addClass("cl-accelerate-wp__modal_show")},hide:function(e){jQuery('[data-accelerate-wp-modal="'+e+'"]').removeClass("cl-accelerate-wp__modal_show")},close:function(e,c){var t=jQuery(e).data("accelerate-wp-modal-close");(jQuery(c.target).is(e)||jQuery(e).data("accelerate-wp-modal-close")===t)&&this.hide(t)},subscription_success:{type:"subscription-success",modal:jQuery('[data-accelerate-wp-modal="subscription-success"]'),show:function(){clAccelerateWP.modal.show(this.type)},hide:function(){clAccelerateWP.modal.hide(this.type)}}},subscription:{timer:!1,window_object:!1,window_opened:!1,gateway:function(e){this.window_opened||(this.window_object=window.open(e,"","toolbar=0,status=0,width=1100,height=640"),this.window_opened=!0,this.timer=setInterval(function(){clAccelerateWP.subscription.window_object.closed&&(clAccelerateWP.subscription.window_opened=!1,clearInterval(clAccelerateWP.subscription.timer))},500))},listener:function(e){"PAYMENT_SUCCESS"===e.data&&(this.window_opened&&this.window_object.close(),clAccelerateWP.modal.subscription_success.show(),jQuery.post(ajaxurl,{action:"cl_cdn_dismiss_limit_notice",_ajax_nonce:cl_rocket_ajax_data.nonce}))}},init:function(){this.notice.init(),window.addEventListener("message",function(e){clAccelerateWP.subscription.listener(e)},!1)}},jQuery(document).ready(function(){clAccelerateWP.init()});